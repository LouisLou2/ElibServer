package com.leo.elib.preset;

public class ElasticSearchInserter {
    private static void insert(String[] args) {
//      IndexOperations indexOps = elasticsearchTemplate.indexOps(BookDetailedInfo.class);
//      boolean exists = indexOps.exists();
//      if (!exists) {
//        boolean create = indexOps.createWithMapping();
//        if (create) {
//          System.out.println("create index success");
//        }
//      }
//      // 插入数据
//      int offset =0;
//      int page = 100;
//      while (true){
//        List<BookInfo> infos = bookInfoProvider.debug_getBooksByIsbn(offset, page);
//        if (infos.isEmpty()){
//          break;
//        }
//        List<BookDetailedInfo> detailedInfos = infos.stream().map(BookDetailedInfo::new).toList();
//        elasticsearchTemplate.save(detailedInfos);
//        offset += infos.size();
//      }
//      System.out.println("inserted "+ offset + " records");
    }
}
